<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<BorderPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="com.proj.frontend.controller.MembersController"
            styleClass="root">

    <center>
        <StackPane alignment="CENTER">
            <!-- Центральна темна картка -->
            <VBox styleClass="app-card"
                  spacing="20"
                  maxWidth="950"
                  prefWidth="950"
                  maxHeight="580"
                  prefHeight="580">

                <!-- Верхній бар: Back + назва групи -->
                <HBox spacing="10" alignment="CENTER_LEFT" maxWidth="900">
                    <Button text="Back"
                            onAction="#handleBack"
                            styleClass="secondary-button"/>

                    <Region HBox.hgrow="ALWAYS"/>

                    <Label fx:id="groupNameLabel"
                           text="Members"
                           styleClass="app-header-title"/>
                </HBox>

                <!-- Таблиця з мемберами -->
                <TableView fx:id="membersTable" VBox.vgrow="ALWAYS">
                    <columns>
                        <TableColumn fx:id="nameColumn"     text="Name"      prefWidth="180"/>
                        <TableColumn fx:id="emailColumn"    text="Email"     prefWidth="260"/>
                        <TableColumn fx:id="roleColumn"     text="Role"      prefWidth="120"/>
                        <TableColumn fx:id="joinedAtColumn" text="Joined at" prefWidth="180"/>
                    </columns>
                </TableView>

                <!-- Нижній блок: форма додавання + кнопка видалення -->
                <VBox spacing="10" maxWidth="900">

                    <!-- Форма додавання -->
                    <HBox spacing="10" alignment="CENTER_LEFT">
                        <Label text="Name:" styleClass="field-label"/>
                        <TextField fx:id="nameField"
                                   prefWidth="160"
                                   promptText="Member name"
                                   styleClass="input-field"/>

                        <Label text="Email:" styleClass="field-label"/>
                        <TextField fx:id="emailField"
                                   prefWidth="220"
                                   promptText="Email"
                                   styleClass="input-field"/>

                        <Label text="Role:" styleClass="field-label"/>
                        <ComboBox fx:id="roleCombo"
                                  prefWidth="120"
                                  styleClass="combo-field"/>

                        <Button text="Add member"
                                onAction="#handleAddMember"
                                styleClass="primary-button action-button"/>
                    </HBox>

                    <!-- Кнопка видалення -->
                    <HBox spacing="10" alignment="CENTER_LEFT">
                        <Button text="Remove selected"
                                onAction="#handleRemoveMember"
                                styleClass="danger-button action-button"/>
                    </HBox>

                </VBox>

            </VBox>
        </StackPane>
    </center>

</BorderPane>