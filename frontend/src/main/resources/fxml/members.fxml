<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<BorderPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="com.proj.frontend.controller.MembersController"
            styleClass="root">

    <center>
        <StackPane alignment="CENTER">
            <VBox styleClass="app-card"
                  spacing="20"
                  maxWidth="900"
                  prefWidth="900"
                  maxHeight="600"
                  prefHeight="600">

                <!-- Верхній бар -->
                <HBox spacing="10" alignment="CENTER_LEFT" maxWidth="900">
                    <Button text="Back"
                            onAction="#handleBack"
                            styleClass="secondary-button"/>

                    <Region HBox.hgrow="ALWAYS"/>

                    <Label fx:id="groupNameLabel"
                           text="Members"
                           styleClass="app-header-title"/>
                </HBox>

                <!-- Таблиця -->
                <TableView fx:id="membersTable" VBox.vgrow="ALWAYS">
                    <columns>
                        <TableColumn fx:id="nameColumn"     text="Name"      prefWidth="180"/>
                        <TableColumn fx:id="emailColumn"    text="Email"     prefWidth="283"/>
                        <TableColumn fx:id="roleColumn"     text="Role"      prefWidth="120"/>
                        <TableColumn fx:id="joinedAtColumn" text="Joined at" prefWidth="250"/>
                    </columns>
                </TableView>

                <!-- НИЖНІ ДВА РЯДИ -->
                <VBox spacing="12" maxWidth="900">

                    <!-- РЯД 1 — Remove selected -->
                    <HBox spacing="10" alignment="CENTER_LEFT">
                        <Button text="Remove selected"
                                onAction="#handleRemoveMember"
                                styleClass="danger-action-button"/>
                    </HBox>

                    <!-- РЯД 2 — Name, Email, Role (зліва) + Add member (справа) -->
                    <HBox spacing="10" alignment="CENTER_LEFT">

                        <!-- Ліва частина: поля -->
                        <Label text="Name:" styleClass="field-label"/>
                        <TextField fx:id="nameField"
                                   prefWidth="150"
                                   promptText="Member name"
                                   styleClass="input-field"/>

                        <Label text="Email:" styleClass="field-label"/>
                        <TextField fx:id="emailField"
                                   prefWidth="220"
                                   promptText="Email"
                                   styleClass="input-field"/>

                        <Label text="Role:" styleClass="field-label"/>
                        <ComboBox fx:id="roleCombo"
                                  prefWidth="120"
                                  styleClass="combo-field"/>

                        <Region HBox.hgrow="ALWAYS"/>

                        <!-- Права частина: кнопка -->
                        <Button text="Add member"
                                onAction="#handleAddMember"
                                styleClass="primary-action-button"/>

                    </HBox>
                </VBox>

            </VBox>
        </StackPane>
    </center>

</BorderPane>